{"version":3,"sources":["webpack:///./src/views/login/Register.vue?d2d5","webpack:///./src/assets/Login/login.png","webpack:///./src/views/login/Register.vue?38be","webpack:///src/views/login/Register.vue","webpack:///./src/views/login/Register.vue?39e4","webpack:///./src/views/login/Register.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","_m","staticClass","attrs","scopedSlots","_u","key","fn","class","flag","on","registerLogin","_v","_s","btnText","proxy","model","value","callback","$$v","sms","expression","sss","onLogin","redister","staticRenderFns","data","methods","$router","push","test","$APP","countDown","setInterval","num","component"],"mappings":"kHAAA,yBAAyf,EAAG,G,uBCA5fA,EAAOC,QAAU,IAA0B,0B,gECA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,GAAGF,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,YAAY,CAACI,MAAM,CAAC,OAAS,GAAG,UAAY,GAAG,YAAc,UAAUC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACR,EAAG,IAAI,CAACS,MAAMb,EAAIc,KAAO,kBAAoB,cAAcC,GAAG,CAAC,MAAQf,EAAIgB,gBAAgB,CAAChB,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,cAAcC,OAAM,KAAQC,MAAM,CAACC,MAAOtB,EAAO,IAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,IAAID,GAAKE,WAAW,SAAStB,EAAG,iBAAiB,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,YAAc,UAAUa,MAAM,CAACC,MAAOtB,EAAO,IAAEuB,SAAS,SAAUC,GAAMxB,EAAI2B,IAAIH,GAAKE,WAAW,UAAU,IAAI,GAAGtB,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,OAAO,CAACJ,EAAIiB,GAAG,mBAAmBb,EAAG,OAAO,CAACW,GAAG,CAAC,MAAQf,EAAI4B,UAAU,CAAC5B,EAAIiB,GAAG,cAAcb,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,SAAS,CAACW,GAAG,CAAC,MAAQf,EAAI6B,WAAW,CAAC7B,EAAIiB,GAAG,aACx3Ba,EAAkB,CAAC,WAAa,IAAI9B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,EAAQ,QAAgC,IAAM,U,oCCmCvN,yBACA,yBACA,OACEuB,KADF,WAEI,MAAO,CACLN,IAAK,GACLE,IAAK,GACLR,QAAS,QACTL,MAAM,IAGVkB,QAAS,CACPJ,QADJ,WAEM3B,KAAKgC,QAAQC,KAAK,WAGpBlB,cALJ,WAKA,WACU,kBAAkBmB,KAAKlC,KAAKwB,KAC9BxB,KAAKmC,KACb,SACU,OAAV,SACU,SAAV,UAEA,kBACA,kBACY,QAAZ,OACY,OAAZ,OAAY,CAAZ,aAEY,EAAZ,eAIQ,OAAR,OAAQ,CAAR,cAKIC,UA1BJ,WA0BA,WACA,KACMC,aAAY,WACVC,IACA,EAAR,uBACQ,EAAR,QACYA,GAAO,IACT,EAAV,gBACU,EAAV,WAEA,MAGIV,SAvCJ,WAuCA,WACM5B,KAAKmC,KACX,OACQ,OAAR,SACQ,SAAR,SACQ,OAAR,EACQ,KAAR,IAEA,kBACQ,aAAR,QACA,QACA,4CAGA,sBACU,EAAV,cACY,KAAZ,WACY,MAAZ,CAAc,IAAd,MAAc,IAAd,SAIU,EAAV,wBC3GiW,I,wBCQ7VI,EAAY,eACd,EACAzC,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAU,E","file":"js/chunk-d2ab2548.2b3909f4.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=f2a9b6e0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=f2a9b6e0&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/login.a4c656a9.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{staticClass:\"wyl_register\"},[_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入手机号\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('a',{class:_vm.flag ? 'registerBtngray' : 'registerBtn',on:{\"click\":_vm.registerLogin}},[_vm._v(_vm._s(_vm.btnText))])]},proxy:true}]),model:{value:(_vm.sms),callback:function ($$v) {_vm.sms=$$v},expression:\"sms\"}}),_c('van-cell-group',[_c('van-field',{attrs:{\"placeholder\":\"请输入验证码\"},model:{value:(_vm.sss),callback:function ($$v) {_vm.sss=$$v},expression:\"sss\"}})],1)],1),_c('div',{staticClass:\"wyl_register_pass\"},[_c('span',[_vm._v(\"*未注册的手机号将自动注册\")]),_c('span',{on:{\"click\":_vm.onLogin}},[_vm._v(\"使用密码登录\")])]),_c('div',{staticClass:\"wyl_login_button\"},[_c('button',{on:{\"click\":_vm.redister}},[_vm._v(\"登录\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wyl_login_img\"},[_c('img',{attrs:{\"src\":require(\"../../assets/Login/login.png\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 手机验证登录 -->\r\n  <div>\r\n    <div class=\"wyl_login_img\">\r\n      <img src=\"../../assets/Login/login.png\" alt=\"\" />\r\n    </div>\r\n    <div class=\"wyl_register\">\r\n      <van-field v-model=\"sms\" center clearable placeholder=\"请输入手机号\">\r\n        <template #button>\r\n          <a\r\n            :class=\"flag ? 'registerBtngray' : 'registerBtn'\"\r\n            @click=\"registerLogin\"\r\n            >{{ btnText }}</a\r\n          >\r\n        </template>\r\n      </van-field>\r\n      <van-cell-group>\r\n        <van-field v-model=\"sss\" placeholder=\"请输入验证码\" />\r\n      </van-cell-group>\r\n    </div>\r\n    <div class=\"wyl_register_pass\">\r\n      <span>*未注册的手机号将自动注册</span>\r\n      <span @click=\"onLogin\">使用密码登录</span>\r\n    </div>\r\n    <div class=\"wyl_login_button\">\r\n      <button @click=\"redister\">登录</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\n//引入Vant请提示\r\nimport { Toast } from \"vant\";\r\nimport { Field } from \"vant\";\r\n\r\nVue.use(Field);\r\nVue.use(Toast);\r\nexport default {\r\n  data() {\r\n    return {\r\n      sms: \"\",\r\n      sss: \"\",\r\n      btnText: \"发送验证码\",\r\n      flag: false,\r\n    };\r\n  },\r\n  methods: {\r\n    onLogin() {\r\n      this.$router.push(\"/login\");\r\n    },\r\n    //获取验证码\r\n    registerLogin() {\r\n      if (/^1[34578]\\d{9}$/.test(this.sms)) {\r\n        this.$APP\r\n          .smsCode({\r\n            mobile: this.sms,\r\n            sms_type: \"login\",\r\n          })\r\n          .then((res) => {\r\n            if (res.data.code != 200) {\r\n              console.log(res);\r\n              Toast(res.data.msg);\r\n            } else {\r\n              this.countDown();\r\n            }\r\n          });\r\n      } else {\r\n        Toast(\"请输入正确的手机号\");\r\n        return;\r\n      }\r\n    },\r\n    //获取验证码倒计时\r\n    countDown() {\r\n      let num = 60;\r\n      setInterval(() => {\r\n        num--;\r\n        this.btnText = \"获取验证码(\" + num + \")\";\r\n        this.flag = true;\r\n        if (num <= 0) {\r\n          this.btnText = \"获取验证码\";\r\n          this.flag = false;\r\n        }\r\n      }, 1000);\r\n    },\r\n    //登陆\r\n    redister() {\r\n      this.$APP\r\n        .login({\r\n          mobile: this.sms,\r\n          sms_code: this.sss,\r\n          client: 1,\r\n          type: 2,\r\n        })\r\n        .then((res) => {\r\n          localStorage.setItem(\r\n            \"token\",\r\n            JSON.stringify(res.data.data.remember_token)\r\n          );\r\n          //判断如果是第一次注册跳转设置密码页面\r\n          if (res.data.data.is_new == 1) {\r\n            this.$router.push({\r\n              path: \"/setPass\",\r\n              query: { sss: this.sss, sms: this.sms },\r\n            });\r\n            //如果不是第一次注册进阶进入首页\r\n          } else {\r\n            this.$router.push(\"/\");\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.wyl_register {\r\n  width: 100%;\r\n  height: 15vh;\r\n}\r\n.wyl_login_img {\r\n  width: 100%;\r\n  height: 30vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.wyl_login_img img {\r\n  width: 80%;\r\n}\r\n\r\n.wyl_login_button {\r\n  width: 100%;\r\n  height: 10vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 0.8rem;\r\n}\r\n.wyl_login_button button {\r\n  width: 90%;\r\n  height: 7vh;\r\n  background: orange;\r\n  border-radius: 18px;\r\n  border: none;\r\n}\r\n.wyl_register_pass {\r\n  width: 100%;\r\n  height: 12vh;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  font-size: 0.6rem;\r\n  color: gray;\r\n}\r\n.registerBtn {\r\n  color: #da5c2a;\r\n}\r\n.registerBtngray {\r\n  color: gray;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=f2a9b6e0&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=f2a9b6e0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2a9b6e0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}